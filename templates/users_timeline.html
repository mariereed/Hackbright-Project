{% extends 'base.html' %}

{% block title %}
    {{users_blogs[0].user.name}}'s Timeline
{% endblock %}

{% block style %}

{% endblock %}

{% block content %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="/static/js/like.js"></script>
    {% for article in formatted_art %}
        <div id="div-{{article['db_info'].article_id}}">
            <h2>{{article['db_info'].blog.name}}</h2>
            <h3>
                <a href="/articles/{{ article['db_info'].article_id }}">
                    {{article['db_info'].title}}
                </a>
            </h3>
            <h6>
                <button 
                {% if article['db_info'].article_id in faved_ids %}
                    style="color: red;"             
                {% endif %}
                type="button" id="{{article['db_info'].article_id}}" class="btn btn-default btn-sm like">
                  <span class="glyphicon glyphicon-heart"></span> 
                </button>

                 <button 
                type="button" id="hide-{{article['db_info'].article_id}}" class="btn btn-default btn-sm deactivate">
                  <span></span>Hide 
                </button>

                Published: {{article['db_info'].publish_date}}
            </h6>
            {% if article['db_info'].description %}
                <p>{{article['description']|safe|truncate(300, end='[...]')}}</p>
            {% elif article['content'] %}
                <!-- |safe means override and allow it to be HTML instead of a string -->
                <p><div id="content"> {{article['content']|safe|truncate(300, end='[...]')}}</div></p>
            {% endif %}
        </div>
    {% endfor %}
{% endblock %}
